\documentclass[10pt, a4paper]{report}

% ============================================================
% PAKIETY KODOWANIA I JĘZYKOWE
% ============================================================
\usepackage[utf8]{inputenc} % Kodowanie znaków
\usepackage[T1]{fontenc}    % Kodowanie fontów (ważne dla polskich znaków)
\usepackage[polish]{babel}  % Polskie dzielenie wyrazów i napisy (Rozdział, Spis treści)

% ============================================================
% 1. USTAWIENIA STRONY (Marginesy)
% ============================================================
% Lewy 3.5cm, reszta 2.5cm
\usepackage[left=3.5cm, right=2.5cm, top=2.5cm, bottom=2.5cm]{geometry}

% ============================================================
% 2. CZCIONKA I INTERLINIA
% ============================================================
\usepackage{fontspec}      % Pakiet do obsługi fontów systemowych
\setmainfont{Verdana}      % Ustawiamy Verdanę jako główny font
\newfontfamily\Verdana{Verdana} % Na wszelki wypadek

% Interlinia 1.5 (wymagane 1.15 lub 1.5)
\usepackage{setspace}
% \onehalfspacing 
\setstretch{1.5}

\usepackage{graphicx}

% Pakiet pokazujący marginesy dokładne
% \usepackage{showframe}

% ============================================================
% 3. AKAPITY I FORMATOWANIE TEKSTU
% ============================================================
% Wcięcie akapitowe 1.25 cm
\setlength{\parindent}{1.25cm}
\setlength{\parskip}{1em}      % Dodatkowy odstęp między akapitami

% Domyślnie LaTeX NIE robi wcięcia w pierwszym akapicie po tytule 
% (co jest zgodne z Twoim wymaganiem).
% Pakiet babel-polish może czasem wymuszać wcięcie wszędzie, 
% ale standardowa klasa 'report' powinna to nadpisać. 
% Gdyby jednak wcięcia pojawiły się pod tytułami, ten kod poniżej by to naprawiał:
% \usepackage{titlesec} 
% (ale na razie zostawiamy standard, bo jest poprawny typograficznie)

% Justowanie tekstu jest włączone domyślnie w LaTeX.

% Wymagany pakiet do edycji nagłówków
\usepackage{titlesec}

% 1. FORMATOWANIE TYTUŁU (Usuwa słowo "Rozdział")
% [hang] - styl wiszący (numer obok tekstu)
% \bfseries\huge - pogrubienie i duży rozmiar
% \thechapter. - numer rozdziału z kropką (np. "1.")
% 0.5em - odstęp między numerem a tytułem
\titleformat{\chapter}[hang]{\bfseries\huge}{\thechapter.}{0.5em}{}

% 2. ODSTĘPY (Kontrola marginesu górnego dla tytułu)
% Składnia: \titlespacing*{komenda}{lewy}{górny}{dolny}
% 'górny' określa ile miejsca dodać (lub odjąć) od marginesu 2.5cm.
% Standardowo LaTeX dodaje tu ok. 50pt.
% Wpisanie '0pt' sprawi, że tekst zacznie się równo z marginesem strony.
% \titlespacing*{\chapter}{0pt}{0pt}{0pt}
% \titlespacing*{\chapter}{0pt}{-\topskip}{0pt}
\titlespacing*{\chapter}{0pt}{-50pt}{0pt}

% ============================================================
% 4. Stopka
% ============================================================

\usepackage{fancyhdr}

% Ustawiamy styl strony na "fancy" (niestandardowy)
\pagestyle{fancy}

% 1. Czyścimy domyślne ustawienia (żeby nie było śmieci w nagłówkach)
\fancyhf{}

% 2. Usuwamy linię w nagłówku (na górze strony), bo o nią nie prosiłeś
\renewcommand{\headrulewidth}{0pt}

% 3. Dodajemy linię w stopce (nad numerem strony)
% Zmień 0.4pt na np. 1pt, jeśli linia ma być grubsza
\renewcommand{\footrulewidth}{0.4pt}

% 4. Ustawiamy numer strony (\thepage) po prawej stronie (R) w stopce (foot)
\fancyfoot[R]{\thepage}

% --- WAŻNE DLA ROZDZIAŁÓW ---
% Strony zaczynające rozdział (te z napisem "1. Wstęp") domyślnie ignorują powyższe ustawienia.
% Poniższy kod wymusza na nich ten sam styl (linia + numer po prawej).
\fancypagestyle{plain}{
    \fancyhf{} % czyść
    \renewcommand{\headrulewidth}{0pt} % brak linii u góry
    \renewcommand{\footrulewidth}{0.4pt} % linia na dole
    \fancyfoot[R]{\thepage} % numer po prawej
}

% ============================================================
% 4. LINKI
% ============================================================

% Pozwala łamać długie linki w dowolnym miejscu (żeby nie wystawały na margines)
\usepackage{xurl} 

% Tworzy aktywne linki
\usepackage[hidelinks]{hyperref}

% ============================================================
% 4. Podpisy figur
% ============================================================

% Pakiet do edycji wyglądu podpisów
\usepackage{caption}

% Konfiguracja globalna
\captionsetup{
    font={small, it},   % 'small' = mniejsza czcionka, 'it' = kursywa (italics)
    % labelfont=bf,       % Opcjonalnie: pogrubienie etykiety (np. "Rysunek 2.1")
    labelsep=period     % Opcjonalnie: kropka po numerze (zamiast dwukropka)
}

% ============================================================
% 4. Zwijanie tekstu
% ============================================================

\usepackage{enumitem}

% ============================================================
% 4. LICZBY I JEDNOSTKI
% ============================================================
\usepackage{siunitx}
% Konfiguracja: polski przecinek jako separator dziesiętny
\sisetup{output-decimal-marker = {,}} 

% ============================================================
% POCZĄTEK DOKUMENTU
% ============================================================
\begin{document}

% --- Strona Tytułowa (uproszczona) ---
\newgeometry{left=2.5cm, right=2.5cm, top=2.5cm, bottom=2.5cm}
\begin{titlepage}
    \centering

    \includegraphics[height=5.5cm]{graphics/agh_znk_wbr_rgb_150ppi.jpg} 
    
    \vspace{0.5cm}
    
    % {\fontsize{24}{28}\selectfont \bfseries \sffamily AGH} \par
    
    % \vspace{0.5cm}

    {\bfseries \sffamily \fontsize{14}{16}\selectfont AKADEMIA GÓRNICZO-HUTNICZA IM. STANISŁAWA STASZICA W KRAKOWIE} \par
    \vspace{0.2cm}
    {\bfseries \sffamily WYDZIAŁ GEOLOGII, GEOFIZYKI I OCHRONY ŚRODOWISKA} \par
    \vspace{0.2cm}
    {\sffamily KATEDRA GEOINFORMATYKI I INFORMATYKI STOSOWANEJ} \par

    \vspace{3cm} % Duży odstęp przed tytułem

    % 2. TYTUŁ PRACY
    {\Large \sffamily Praca dyplomowa} \par
    
    \vspace{1.5cm}
    
    % Tytuł polski (kursywa)
    {\Large \itshape \bfseries
    Projekt silnika szachowego z wykorzystaniem metod \\
    sztucznej inteligencji
    } \par
    
    \vspace{0.5cm}
    
    % Tytuł angielski (kursywa)
    {\large \itshape
    Chess engine design using artificial intelligence methods
    } \par

    \vspace{3cm} % Odstęp przed danymi autora

    % 3. DANE AUTORA I OPIEKUNA
    % Używamy tabeli, żeby ładnie wyrównać dwukropek
    \begin{flushleft}
        % \hspace{4cm} % Przesunięcie tabeli w prawo (dostosuj, jeśli chcesz inaczej)
        \begin{tabular}{ll}
            Autor: & \textbf{Bartłomiej Kózka} \\ 
            Kierunek studiów: & \textit{Inżynieria i Analiza Danych} \\
            Opiekun pracy: & \textit{Prof. dr hab. inż. Norbert Skoczylas} \\
        \end{tabular}
    \end{flushleft}

    \vfill % Wypycha datę na sam dół strony

    % 4. MIEJSCE I ROK
    Kraków, 2025

\end{titlepage}
\restoregeometry
% LaTeX automatycznie nie numeruje strony tytułowej (liczy ją jako 1, ale nie drukuje numeru)

% --- Spis treści ---
\tableofcontents

% --- Wstawienie Spisu Ilustracji ---
\newpage % Wymusza nową stronę
\addcontentsline{toc}{chapter}{Spis ilustracji} % Ręczne dodanie wpisu do spisu treści
\listoffigures % Wygenerowanie listy obrazków

% ----------------------------------------------------------------------------------------------------------------

\chapter{Wstęp}

Sztuczna inteligencja (SI) stała się nieodłącznym elementem współczesnej technologii, wpływając na niemal każdy aspekt życia codziennego. Choć obecnie największą uwagę mediów i badaczy przyciągają generatywne modele językowe, nie należy zapominać o fundamentalnych metodach, które ukształtowały tę dziedzinę. Jednym z kluczowych obszarów, znajdującym szerokie zastosowanie w grach logicznych, jest przeszukiwanie przestrzeni stanów. Metody te stanowią podwaliny klasycznej sztucznej inteligencji, co zauważyć można już w pionierskich pracach Allena Newella i Herberta Simona. Stworzyli oni "General Problem Solver" (GPS) – program zaprojektowany do rozwiązywania dowolnego problemu, który da się zdefiniować za pomocą skończonego zbioru reguł formalnych.

Szachy to deterministyczna, strategiczna gra planszowa o tzw. pełnej informowalności, pozbawiona elementów losowych. Jej geneza sięga VII wieku i indyjskiej gry Czaturanga. Po dotarciu do Europy gra ewoluowała, przyjmując współczesny system poruszania się figur pod koniec XV wieku, natomiast ostateczna standaryzacja reguł turniejowych nastąpiła w drugiej połowie XIX wieku. Obecnie szachy są jedną z najbardziej rozpowszechnionych gier logicznych na świecie, angażującą miliony graczy i stanowiącą idealne środowisko do badań nad sztuczną inteligencją.

Trafność wyboru tej gry jako domeny badawczej podkreślił rosyjski informatyk Alexander Kronrod, wypowiadając słynne zdanie: „Szachy są drozofilą sztucznej inteligencji”. Przez to porównanie do muszki owocowej – organizmu modelowego w genetyce – wskazał on na szachy jako idealne środowisko do izolowania i badania mechanizmów intelektualnych. Kronrod przestrzegał jednak, aby rozwój dziedziny nie zmienił się w „wyścigi muszek owocowych”, gdzie nacisk kładziony jest wyłącznie na wynik, a nie na zrozumienie procesów myślowych. Historia pokazała jednak, że to właśnie surowa siła obliczeniowa stała się kluczem do dominacji maszyn. Punktem zwrotnym w historii tej dyscypliny był rok 1997, kiedy to superkomputer "Deep Blue" firmy IBM pokonał urzędującego mistrza świata, Garriego Kasparowa. Był to pierwszy przypadek w historii, gdy maszyna wygrała mecz z najlepszym szachistą globu w standardowych warunkach turniejowych. Wydarzenie to uznawane jest za kamień milowy w rozwoju informatyki, symbolicznie otwierający nową erę. Od tego momentu silniki szachowe przestały być postrzegane wyłącznie jako ciekawostka technologiczna, stając się potężnymi narzędziami analitycznymi, które dziś nie tylko przewyższają człowieka zdolnościami obliczeniowymi, ale także służą do treningu i podnoszenia poziomu gry zawodników.

Kluczowym wyzwaniem w projektowaniu współczesnych silników szachowych jest optymalizacja procesu decyzyjnego. Ze względu na tzw. eksplozję kombinatoryczną, liczba możliwych wariantów partii przekracza możliwości obliczeniowe jakiegokolwiek komputera, co uniemożliwia pełne przeszukanie drzewa gry. Z tego powodu nowoczesne silniki nie analizują każdej możliwości, lecz wykorzystują zaawansowane heurystyki, pozwalające na "odcinanie" nieperspektywicznych gałęzi (pruning). Takie podejście umożliwia znalezienie optymalnego lub bliskiego optymalnemu ruchu w ściśle ograniczonym czasie, co jest warunkiem koniecznym w rozgrywkach turniejowych. Efektywność tych algorytmów decyduje o "sile" silnika szachowego znacznie bardziej niż surowa moc obliczeniowa sprzętu.

Reasumując, zastosowanie metod sztucznej inteligencji, a w szczególności algorytmów przeszukiwania przestrzeni stanów w grach takich jak szachy, pozostaje kluczowym obszarem badań w informatyce. Gry te stanowią doskonałe środowisko do weryfikacji efektywności algorytmów, łącząc teorię z praktycznymi wyzwaniami optymalizacyjnymi. Projektowanie silnika szachowego nie jest zatem jedynie próbą stworzenia wirtualnego przeciwnika, lecz przede wszystkim ambitnym zadaniem inżynierskim, pozwalającym na praktyczne zmierzenie się z problemem wysokiej złożoności obliczeniowej.


\chapter{Cel pracy}
Celem niniejszej pracy jest zaprojektowanie i implementacja silnika szachowego wykorzystującego metody sztucznej inteligencji. Kluczowym elementem badań jest analiza wpływu wybranych algorytmów optymalizujących przeszukiwanie drzewa gry na wydajność obliczeniową programu. Ponadto, praca obejmuje porównanie różnych wariantów heurystycznych funkcji oceny pozycji oraz zbadanie, w jaki sposób zastosowane metody przekładają się na ostateczną siłę gry silnika.

Układ pracy odzwierciedla przyjętą metodologię badawczą i został podzielony na część teoretyczną oraz praktyczną. Część teoretyczna zawiera szczegółowy opis algorytmu Minimax, stanowiącego fundament działania silnika szachowego. W dalszej kolejności omówiono kluczowe algorytmy optymalizacyjne, takie jak odcięcia Alpha-Beta (Alpha-Beta Pruning), pogłębianie iteracyjne (Iterative Deepening) oraz przeszukiwanie wyciszeń (Quiescence Search). Rozdział ten zamyka charakterystyka funkcji heurystycznych wykorzystywanych do statycznej oceny pozycji.

Część praktyczna koncentruje się na weryfikacji eksperymentalnej zaimplementowanego rozwiązania. Siła gry silnika została zmierzona na podstawie serii turniejów rozegranych z innymi silnikami szachowymi. Przeprowadzono również analizę porównawczą, badającą wpływ poszczególnych metod optymalizacji oraz wariantów funkcji oceny na ostateczną skuteczność i ranking silnika.

% ----------------------------------------------------------------------------------------------------------------

\chapter{Zasady gry w szachy (według specyfikacji FIDE)}

Poniższe zestawienie reguł opracowano na podstawie oficjalnych Przepisów Gry w Szachy FIDE (FIDE Laws of Chess), obowiązujących w turniejach rangi mistrzowskiej. Stanowią one zbiór wymagań funkcjonalnych zaimplementowanych w silniku.
\url{https://www.fide.com/FIDE/handbook/LawsOfChess.pdf}
\section{Natura i cele gry w szachy}
\begin{description}[leftmargin=2.8cm, labelwidth=2.5cm, labelsep=0.3cm, font=\normalfont]
    \item[{[Reguła 1.1]}] Gra w szachy toczy się między dwoma przeciwnikami, którzy na przemian wykonują posunięcia bierkami na kwadratowej planszy, zwanej szachownicą.
    \item[{[Reguła 1.2]}] Celem każdego z graczy jest ustawienie króla przeciwnika "pod atakiem" w taki sposób, aby przeciwnik nie miał żadnego legalnego posunięcia. Gracz, który doprowadzi do takiej pozycji, "daje mata" i wygrywa partię.
    \item[{[Reguła 1.3]}] Jeśli pozycja jest taka, że żaden z graczy nie jest w stanie "dać mata", następuje remis.
\end{description}

\section{Pozycja początkowa i szachownica}
\begin{description}[leftmargin=2.8cm, labelwidth=2.5cm, labelsep=0.3cm, font=\normalfont]
    \item[{[Reguła 2.1]}] Szachownica składa się z siatki 8×8, tworzącej 64 pola o jednakowych rozmiarach, naprzemiennie jasnych (pola białe) i ciemnych (pola czarne).
    \item[{[Reguła 2.2]}] Na początku gry, jeden gracz posiada 16 białych pionków, a drugi 16 czarnych pionków.
    \newpage
    \item[{[Reguła 2.3]}] Początkow pozycja pionków na szachownicy wygląda następująco:
% Nie używamy \begin{figure}, tylko zwykłego środkowania
    \begin{center}
        \includegraphics[height=5.5cm]{graphics/chess_board_initial_position.png}
        % Komenda \captionof{typ}{podpis} pozwala podpisać obrazek poza środowiskiem figure
        \captionof{figure}{Szachownica reprezentująca początkowe położenie pionków}
    \end{center}
    \item[{[Reguła 2.4]}] Osiem pionowych kolumn pól nazywa się liniami (oznaczone literami od a do h). Osiem poziomych rzędów pól nazywa się rzędami (numerowane od 1 do 8). Każde pole jest jednoznacznie identyfikowane przez unikalną parę współrzędnych (np. e4).
\end{description}

\section{Ruchy figur}
\begin{description}[leftmargin=2.8cm, labelwidth=2.5cm, labelsep=0.3cm, font=\normalfont]
    \item[{[Reguła 3.1]}] Zgodnie z Artykułem 3, żadna bierka nie może stanąć na polu zajmowanym przez bierkę tego samego koloru. Jeśli bierka staje na polu zajętym przez przeciwnika, następuje "bicie" (usunięcie bierki przeciwnika z planszy).
    \item[{[Reguła 3.2 - Goniec]}] Goniec może poruszać się na dowolne pole wzdłuż przekątnych (diagonali), na których się znajduje.
    \item[{[Reguła 3.3 - Wieża]}] Wieża porusza się na dowolne pole wzdłuż linii (pionowo) lub rzędu (poziomo), na którym stoi.
    \item [{[Reguła 3.4 - Hetman]}] Hetman porusza się na dowolne pole wzdłuż linii, rzędu lub przekątnej, na której stoi. Łączy w sobie wektory ruchu Wieży i Gońca.
    \item [{[reguła 3.5]}] Robiąc ruch Gońcem, Wieża lub Hetmanem, nie ma możliwości przeskakiwania nad innymi blokującymi figurami.
    \item [{Reguła 3.6 - Skoczek}] Skoczek wykonuje ruch na jedno z pól najbliższych temu, na którym stoi, ale nie na tej samej linii, rzędzie czy przekątnej. Ruch ten definiuje się jako "kształt litery L" (przesunięcie o 2 pola w poziomie/pionie i 1 pole prostopadle). Jest to jedyna bierka mogąca przeskakiwać nad innymi.
    \item [{[Reguła 3.7 - Pion]}] Pion porusza się do przodu na pole bezpośrednio przed nim na tej samej linii, pod warunkiem, że jest ono wolne.
        \begin{enumerate}[label=\alph*), noitemsep, topsep=0pt]           
            \item Standardowy ruch to przesunięcie o jedno pole wzdłuż linii.
            \item Przy pierwszym ruchu danego piona możliwe jest przesunięcie o dwa pola.
            \item Bicie odbywa się inaczej niż ruch: o jedno pole do przodu na ukos (diagonalnie).
            \item {[Bicie w przelocie (En Passant)]} Pion atakujący pole, które minął pion przeciwnika wykonujący ruch o dwa pola, może zbić tego piona tak, jakby wykonał on ruch tylko o jedno pole. Bicie to jest możliwe wyłącznie w posunięciu następującym bezpośrednio po takim ruchu piona.
            \item {[Promocja]} Kiedy pion osiągnie najdalszy rząd (ósmy dla białych, pierwszy dla czarnych), musi zostać natychmiast zamieniony na nową figurę (hetmana, wieżę, gońca lub skoczka) tego samego koloru.
        \end{enumerate}
    \item [{[Reguła 3.8 - Król]}] Król ma możliwość poruszania się na dwa różne sposoby.
        \begin{enumerate}[label=\alph*), noitemsep, topsep=0pt]           
            \item Król może poruszać się na dowolne sąsiednie pole, które nie jest atakowane przez jedną lub więcej bierek przeciwnika.
            \item {[Roszada]} to ruch króla i jednej z wież tego samego koloru na tej samej linii. Jest traktowana jako jedno posunięcie króla. Wykonuje się ją przez przesunięcie króla o dwa pola w stronę wieży, a następnie postawienie wieży na polu, które król właśnie minął.
            \item Uprawnienia do wykonania roszady są utracone kiedy:
                \begin{itemize}
                    \item jeśli król już się poruszył, lub
                    \item z wieżą, która już się poruszyła
                \end{itemize}
            \item Roszada jest tymczasowo niemożliwa, jeżeli:
                \begin{itemize}
                    \item pole, na którym stoi król, pole, które król musi przekroczyć, lub pole, które król ma zająć, jest atakowane przez jedną lub więcej bierek przeciwnika;
                    \item pomiędzy królem a wieżą, z którą ma zostać wykonana roszada, znajduje się jakakolwiek inna bierka.
                \end{itemize}
        \end{enumerate}
    \item [{[Reguła 3.9]}] Uznaje się, że król jest "w szachu", jeżeli jest atakowany przez jedną lub więcej bierek przeciwnika, nawet w przypadku, gdy bierki te nie mogą wykonać ruchu na to pole, ponieważ odsłoniłyby lub wystawiły własnego króla na szach. Nie wolno wykonać posunięcia, które wystawiłoby króla tego samego koloru na szach lub pozostawiło go pod szachem.
\end{description}

\section{Zakończenie gry}
\begin{description}[leftmargin=2.8cm, labelwidth=2.5cm, labelsep=0.3cm, font=\normalfont]
\item[{[Reguła 5.1 - Wygrana]}] Partia zostaje wygrana przez gracza w dwóch przypadkach:
        \begin{enumerate}[label=\alph*), noitemsep, topsep=0pt]
            \item Gdy gracz zamatował króla przeciwnika. Kończy to partię natychmiast, pod warunkiem, że posunięcie prowadzące do pozycji matowej było wykonane zgodnie z przepisami.
            \item Gdy przeciwnik gracza ogłosił rezygnację (poddanie się). To również natychmiast kończy partię.
        \end{enumerate}

    \item[{[Reguła 5.2 - Remis]}] Partia kończy się wynikiem nierozstrzygniętym (remisem) w następujących sytuacjach:
        \begin{enumerate}[label=\alph*), noitemsep, topsep=0pt]
            \item {[Pat]} Gracz, na którego przypada kolej posunięcia, nie może wykonać żadnego legalnego ruchu, a jego król nie znajduje się pod szachem.
            \item Martwa pozycja: Powstaje pozycja, w której żaden z graczy nie może zamatować króla przeciwnika za pomocą jakiejkolwiek serii legalnych posunięć. Kończy to partię natychmiast (pod warunkiem legalności ostatniego ruchu).
            \item {[Porozumienie stron]} Obaj gracze zgodnie ustalają remis w trakcie partii.
            \item {[Trzykrotne powtórzenie pozycji]} Ta sama pozycja pojawiła się (lub ma się zaraz pojawić po zadeklarowanym ruchu) na szachownicy przynajmniej trzy razy.
            \item {[Reguła 50 ruchów]} W ciągu ostatnich 50 posunięć wykonanych przez każdego z graczy nie nastąpiło żadne przesunięcie piona ani żadne bicie bierki.
        \end{enumerate}
\end{description}

% ----------------------------------------------------------------------------------------------------------------

\chapter{Projekt silnika szachowego}
\section{Architektura systemu}
\subsection{Model ogólny}
% Nie używamy \begin{figure}, tylko zwykłego środkowania
    \begin{center}
        \includegraphics[height=12cm]{graphics/system_architecture.drawio2.png}
        % Komenda \captionof{typ}{podpis} pozwala podpisać obrazek poza środowiskiem figure
        \captionof{figure}{Szachownica reprezentująca początkowe położenie pionków}
    \end{center}

    

% ----------------------------------------------------------------------------------------------------------------

\chapter{Użyte technologie}
\chapter{Implementacja silnika}
\chapter{Analiza rezultatów i wydajności poszczególnych wersji silnika}
\chapter{Wnioski}

\newpage
% \addcontentsline... (BibTeX zazwyczaj sam dodaje wpis, a jak nie, to wtedy dodasz)
\bibliographystyle{plain}
\bibliography{nazwa_twojego_pliku_bib}

\end{document}
